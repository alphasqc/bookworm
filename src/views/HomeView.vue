<template>
  <div class="home" id="home">
    <div id="souch">
      <svg id="shoplogo" t="1656903806758" class="icon" viewBox="0 0 3089 1024" version="1.1"
        xmlns="http://www.w3.org/2000/svg" p-id="13896" width="128" height="128">
        <path
          d="M299.799654 190.454682l454.367023 0 0 73.678046-36.840569 0c0 124.843315 1.023386 366.343578 0 488.117043 0 51.165286-39.910605 80.841216-102.334874 80.841216l-68.564393 0 0-75.724659c20.466995-1.023283 27.630387 0 45.027328 0 12.280218-1.023283 23.53705-14.326272 23.53705-24.559309l0-468.674239-315.191538 0L299.79968 190.45468zM1865.523917 190.454682l331.565125 0c23.53705 0 40.93399 21.489459 40.93399 39.908966l0 234.337119 45.027363 0c0 80.841216 0 143.262822 1.023386 224.104038 0 30.699213-28.653773 47.072051-47.074099 47.072051l-54.237505 0 0-60.375066c-101.31159 0-247.650509 2.046566-338.72855 2.046566 0-47.072051 45.027328-73.678029 74.704486-73.678029l264.024081 0 0-65.491597c-110.521754 0-240.487014 0-240.487014 0-30.700442 0-61.400986-28.652544-61.400986-63.444992l0-178.055279 75.727837 0c15.350272 0 25.583718 13.302989 25.583718 22.512742l0 132.0065c0 6.139802 8.186778 13.302989 14.326886 13.302989l123.825247 0 0-200.568015-254.813938 0L1865.523943 190.45468zM566.893773 308.134912l0 317.224922c0 49.11872-22.513664 85.957734-90.054758 85.957734 0 0-95.171482 0-173.969306 0l0-403.182642L566.893836 308.134926zM387.807642 386.929459l0 250.710019 66.517695 0c15.350272 0 22.513664-11.25632 22.513664-24.559309l0-226.15067L387.807735 386.929499zM0.981709 833.09097l0-624.216781c0 0 0-18.419507 21.490381-18.419507l242.533749 0 0 385.786437c0 64.468275-60.3776 135.076454-129.965363 135.076454l0-82.887802c0 0 36.84055-14.326272 36.84055-55.258522l0-309.038472-72.65779 0 0 568.958246L0.981756 833.091023zM2670.89961 190.454682l331.565125 0c22.513664 0 40.93399 21.489459 40.93399 39.908966l0 234.337119 45.027363 0 0 304.945247c0 28.652544-21.490381 63.444992-70.611046 63.444992l-32.747173 0-59.354251 0 0-73.678046 37.863919 0c14.326886 0 22.513664-5.116518 22.513664-16.372941l0-67.538209-335.658521 0c0-47.072051 47.074099-71.631462 74.704486-71.631462l260.954033 0 0-65.491597c-108.474982-2.046566-238.440346-2.046566-238.440346-2.046566-31.723827 0-61.400986-26.605978-61.400986-61.398323l0-178.055279 75.727837 0c15.350272 0 25.583718 11.25632 25.583718 22.512742l0 132.0065c0 6.139802 7.163494 13.302989 14.326886 13.302989l123.825247 0 0-200.568015-254.813938 0L2670.899618 190.45468zM2867.382784 759.412941l-140.198834 0c-61.400986-5.116518-113.591706-14.326272-154.525696-48.095437 35.817267-39.908966 55.260877-85.957734 59.354214-172.938752l0-284.479123c0-8.18647-10.233446-18.419507-19.44361-18.419507l-124.848596 0 0-45.025473-98.241518 0 0 45.025473-31.723824 0 0 72.65474 31.723824 0 0 230.243895c0 86.981018 28.653773 132.006502 64.47104 172.938752-42.980659 29.67593-86.984704 48.095437-146.338918 48.095437l-24.56038 0-300.86465 0c-91.078042 0-179.086131-16.372941-212.856627-56.281805 30.700442-41.955533 49.120768-77.771264 58.330931-166.79895l0-276.292674c-1.023386-12.279706-12.280218-23.536026-23.53705-24.559309l-125.871945 0 0-45.025473-94.148122 0 0 45.025473-33.770522 0 0 72.65474 33.770522 0 0 228.197282c8.186778 89.027686 36.84055 117.68023 69.587763 169.8688-50.144154 34.792448-108.474982 51.165286-179.086131 53.211955l-266.070779 0 0-56.281841 266.070779 0 0-77.771271-266.070779 0 0-56.281841 200.576433 0c0 0 65.494323 0 65.494323-70.608077l0-308.015166-630.383076 0c-11.256832 0-21.490381 11.25632-21.490381 18.419507l0 360.203782 265.04743 0 0 56.281841-265.04743 0c0 23.536026 0 52.18857 1.023386 77.771264l264.024081 0 0 56.281841-310.074792 0 0 73.678046c232.300237 0 519.86135 1.023283 743.97481 0 61.400986 0 137.128755-31.722496 192.389632-63.444992 68.564378 53.211955 144.29225 63.444992 268.117504 63.444992l126.895295 0 173.969355 0c105.404928 0 170.899354-22.512742 236.393677-61.398323 59.354214 35.815731 115.638477 58.328474 207.739904 61.398323l140.198834 0L2867.38286 759.412926zM1087.778509 496.423219l-163.735864 0 0-77.771271 163.735864 0L1087.778509 496.423233zM1087.778509 341.903974l-163.735864 0 0-77.771271 163.735864 0L1087.778509 341.903997zM1208.533709 264.13271l163.735864 0 0 77.771271-163.735864 0L1208.533709 264.132726zM1208.533709 418.651955l163.735864 0 0 77.771271-163.735864 0L1208.533709 418.651962zM1735.558656 538.378752c-3.070054 50.142003-12.280218 62.421709-24.560333 96.190771-14.326886-32.745779-27.630387-46.048768-32.747213-96.190771 2.046669-66.514944 0-159.635763 0-230.243942l57.307552 0L1735.558663 538.378787zM2541.957734 538.378752c-2.046669 46.048768-13.303501 68.56151-26.607104 96.190771-15.350272-26.605978-28.653773-52.18857-28.653773-96.190771l0-230.243895 55.260854 0L2541.957712 538.378787z"
          p-id="13897" fill="#fd6660"></path>
      </svg>
      <div id="search">
        <input type="text" placeholder="请输入需要搜索的商品关键词" v-model="souchtext">
        <a href="#" @click="SouchGood(souchtext)">
          <svg t="1656903155194" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="9574" width="32" height="32">
            <path
              d="M955.733333 923.733333l-149.333333-153.6C876.8 693.333333 917.333333 593.066667 917.333333 490.666667c0-224-181.333333-405.333333-405.333333-405.333334S106.666667 266.666667 106.666667 490.666667s181.333333 405.333333 405.333333 405.333333c64 0 125.866667-14.933333 183.466667-42.666667 10.666667-4.266667 14.933333-17.066667 8.533333-27.733333-4.266667-10.666667-19.2-14.933333-27.733333-8.533333-51.2 25.6-106.666667 38.4-164.266667 38.4-200.533333 0-362.666667-162.133333-362.666667-362.666667S311.466667 128 512 128s362.666667 162.133333 362.666667 362.666667c0 100.266667-42.666667 196.266667-115.2 264.533333-8.533333 8.533333-8.533333 21.333333 0 29.866667 2.133333 2.133333 4.266667 4.266667 8.533333 4.266666l157.866667 162.133334c4.266667 4.266667 10.666667 6.4 14.933333 6.4 6.4 0 10.666667-2.133333 14.933333-6.4 6.4-6.4 8.533333-19.2 0-27.733334z"
              p-id="9575" fill="#fd736d"></path>
          </svg>
        </a>
      </div>
    </div>

    <div id="main">
      <div style="height: 350px;">
        <p style="color: red; font-family: '楷体'; margin-bottom: 20px;">主题市场</p>
        <div id="nae">
          <ul>
            <li>
              <img src="../assets/navlogo/女装.png">
              <a href="#" @click="Souch('女装')">女装</a>/
              <a href="#" @click="Souch('饰品')">饰品</a>/
              <a href="#" @click="Souch('鞋靴')">鞋靴</a>/
              <a href="#" @click="Souch('内搭')">内搭</a>/
              <a href="#" @click="Souch('内衣')">内衣</a>
            </li>
            <li>
              <img src="../assets/navlogo/男装.png">
              <a href="#" @click="Souch('男装')">男装</a>/
              <a href="#" @click="Souch('休闲')">休闲</a>/
              <a href="#" @click="Souch('正装')">正装</a>/
              <a href="#" @click="Souch('鞋袜')">鞋袜</a>
            </li>
            <li>
              <img src="../assets/navlogo/美妆.png">
              <a href="#" @click="Souch('美妆')">美妆</a>/
              <a href="#" @click="Souch('护肤')">护肤</a>/
              <a href="#" @click="Souch('口红')">口红</a>/
              <a href="#" @click="Souch('化妆品')">化妆品</a>
            </li>
            <li>
              <img src="../assets/navlogo/珠宝.png">
              <a href="#" @click="Souch('珠宝')">珠宝</a>/
              <a href="#" @click="Souch('腕表')">腕表</a>
            </li>
            <li>
              <img src="../assets/navlogo/电子产品.png">
              <a href="#" @click="Souch('手机')">手机</a>/
              <a href="#" @click="Souch('电脑')">电脑</a>/
              <a href="#" @click="Souch('平板')">平板</a>/
              <a href="#" @click="Souch('配件')">配件</a>
            </li>
            <li>
              <img src="../assets/navlogo/母婴玩具.png">
              <a href="#" @click="Souch('母婴玩具')">母婴玩具</a>
            </li>
            <li>
              <img src="../assets/navlogo/零食.png">
              <a href="#" @click="Souch('零食')">零食</a>/
              <a href="#" @click="Souch('茶酒')">茶酒</a>/
              <a href="#" @click="Souch('进口食品')">进口食品</a>
            </li>
            <li>
              <img src="../assets/navlogo/生鲜水果.png">
              <a href="#" @click="Souch('生鲜水果')">生鲜水果</a>
            </li>
            <li>
              <img src="../assets/navlogo/汽车.png">
              <a href="#" @click="Souch('汽车')">汽车</a>/
              <a href="#" @click="Souch('配件')">配件</a>
            </li>
          </ul>
        </div>
        <div id="carousel">
          <div class="block text-center">
            <el-carousel height="300px" style="border-radius:10px">
              <el-carousel-item v-for="item,index in img" :key="index">
                <img :src="item.url" style="height: 100%; width: 100%; object-fit: cover;">
              </el-carousel-item>
            </el-carousel>
          </div>
        </div>
      </div>

      <div id="content">
        <div id="super">猜你喜欢</div>
        <div v-for="(item,index) in goods" :key="index" id="shopbox" @click="goodJump(index)">
          <img :src="item.src[0]" alt="">
          <div id="brief">
            {{item.name}}
          </div>
          <div id="price">￥{{item.price}}</div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { getData, foundData, leiData } from '@/api/index.js'
import axios from 'axios'
// import axios from 'axios'

export default {
  data () {
    return {
      img: [
        { url: require('../assets/carousel1.jpg') },
        { url: require('../assets/carousel2.jpg') },
        { url: require('../assets/carousel3.jpg') }
      ],
      goods: [],
      goodsid: '',
      souchtext: '',
      foundid: ''
    }
  },
  methods: {
    SouchGood(text) {
      getData('found').then((res) => {
        res.data.forEach(item => {
          axios.request({
            method: 'delete',
            url: 'http://localhost:3000/found/' + item.id
          })
        })
      })
      foundData('goods', text).then((res) => {
        res.data.forEach(element => {
          this.foundid = element.id
          console.log(this.foundid)
          axios.request({
            method: 'post',
            url: 'http://localhost:3000/found/',
            data: {
              found: this.foundid
            }
          })
        })
        this.$router.push('/found')
      })
    },
    Souch(text) {
      getData('found').then((res) => {
        res.data.forEach(item => {
          axios.request({
            method: 'delete',
            url: 'http://localhost:3000/found/' + item.id
          })
        })
      })
      leiData('goods', text).then((res) => {
        res.data.forEach(element => {
          this.foundid = element.id
          // console.log(this.foundid)
          axios.request({
            method: 'post',
            url: 'http://localhost:3000/found/',
            data: {
              found: this.foundid
            }
          })
        })
        this.$router.push('/found')
      })
    },
    getGoods() {
      this.goods = this.$store.state.goods
    },
    goodJump(index) {
      this.$router.push({ name: 'goods', params: { goodid: index } })
    }
  },
  mounted () {
    this.getGoods()
    getData('goods').then((res) => {
      this.goods = res.data
      // console.log(this.goods)
    })
  }
}
</script>

<style>
@keyframes hoverto{
  from{
    background-color: rgb(245, 245, 245);
    border: 1px rgba(255, 255, 255, 0) solid;
  }
  to{
    background-color: white;
    border: 1px rgb(255, 93, 93) solid;
    box-shadow: 2px 2px 12px rgba(255, 93, 93, 0.2);
  }
}@keyframes moveto {
  from {
    background-color: white;
    border: 1px rgb(255, 93, 93) solid;
    box-shadow: 2px 2px 12px rgba(255, 93, 93, 0.2);
  }
  to {
    background-color: rgb(245, 245, 245);
    border: 1px rgba(255, 255, 255, 0) solid;
  }
}
#shopbox:hover{
  animation: hoverto 1.3s forwards;
}
#price{
  color: rgb(255, 93, 93);
}
#brief{
  width: 185px;
  height: 100px;
  font-family: "宋体";
}
#super{
  line-height: 50px;
  font-family: '华文行楷';
  font-size: 30px;
  text-align: center;
  color: white;
  width: 140px;
  background-color: rgb(255, 93, 93);
  border-radius: 10px;
  margin-bottom: 20px;
}
#content{
  margin-top: 20px;
  width: 1100px;
}
#shopbox{
  transition: 2s;
  width: 346px;
  height: 150px;
  background-color: rgb(245, 245, 245);
  float: left;
  padding: 13px;
  box-sizing: border-box;
  margin-right: 20px;
  margin-top: 20px;
  border-radius: 15px;
}
#shopbox>img{
  border-radius: 10px;
  width: 124px;
  height: 124px;
  margin-right: 5px;
}
#shopbox>*{
  float: left;
}
</style>

<style>
li{
  list-style: none;
  height: 30px;
  line-height: 30px;
}

li>*{
  margin-left: 5px;
  margin-right: 8px;
  /* margin-bottom: 15px; */
  vertical-align: middle;
}

li>a{
  color: gray;
  font-family: '华文楷体';
}

li>a:hover{
  text-decoration: none;
}

#carousel{
  width: 700px;
  /* height: 300px; */
  float: right;
}

#nae{
  margin-left: 20px;
  width: 325px;
  height: 300px;
  float: left;
  border-radius: 10px;
  background-color: rgba(250, 250, 250);
}

#main {
  width: 100%;
  height: 1500px;
  background-color: white;
  border-radius: 20px;
  padding: 20px;
}

html{
  background-color: rgb(227, 242, 255);
}
*{
  margin: 0;
  padding: 0;
}

#home{
  width: 1100px;
  margin: 0 auto;
}

#shoplogo{
  position: absolute;
  margin-left: 70px;
  margin-top: -45px;
}

#souch{
  margin: 20px;
}

#search input{
  width: 270px;
  height: 35px;
  border: 0;
  font-size: 14px;
  outline: none;
  background-color: rgba(32, 74, 102, 0);
  font-size: 16px;
  margin: 0 10px;
}

#search{
  width: 320px;
  height: 35px;
  border: 3px solid rgb(255, 121, 121);
  border-radius: 30px;
  display: flex;
  margin: 0 auto;
  margin-top: 30px;
}

#search a{
  margin-top: 1px;
  margin-right: 10px;
}

#demo{
  height: 300px;
  width: 700px;
  float: right;
  border-radius: 30px;
  margin-right: 30px;
}
</style>

<style scoped>
.demonstration {
  color: var(--el-text-color-secondary);
}

.el-carousel__item h3 {
  color: #475669;
  margin: 0;
  text-align: center;
}

.el-carousel__item:nth-child(2n) {
  background-color: #99a9bf;
}

.el-carousel__item:nth-child(2n + 1) {
  background-color: #d3dce6;
}
</style>
